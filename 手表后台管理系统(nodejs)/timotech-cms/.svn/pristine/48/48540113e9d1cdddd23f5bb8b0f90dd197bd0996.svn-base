<div ms-controller="loginCtrl">
	<section class="login-wrap">
		<ul>
			<li style="font-size: 30px; text-align: center; color: #fff;">欢迎登录</li>
			<li><input placeholder="请输入您的用户名" type="tel" ms-duplex="userName"/></li>
			<li><input placeholder="请输入您的密码" type="password" ms-duplex="password"/></li>
			<li><input type="button" class="btn-normal-organ btn-login" ms-click="btnClick" value="登录"/></li>
		</ul>
	</section>
</div>
<script type="text/javascript">
	var loginModel = avalon.define("loginCtrl", function (vm) {
		vm.userName = "";
		vm.password = "";
		vm.btnClick = function () {
			if (!(isLength(vm.userName, 2) && isLength(vm.password, 2))) {
				layer.msg('您输入的用户名或密码格式不正确!', {
					offset: 0,
					shift: 6
				});
				return;
			}

			postJSON('/signin', {userName: vm.userName, password: vm.password}, function (data) {
				if (data.errcode === 1) {
					layer.msg(data.errmsg, {
						offset: 0,
						shift: 6
					});
					return;
				}

				pageJump('/index');
			});
		}
	});
</script>
<link rel="stylesheet" href="../../assets/stylesheets/supersized.css">
<link rel="stylesheet" href="../../assets/stylesheets/login.css">
<script type="text/javascript" src="../../assets/javascripts/supersized/supersized.3.2.7.min.js"></script>
<script type="text/javascript" src="../../assets/javascripts/supersized/supersized-init.js"></script>

